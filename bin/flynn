#!/usr/bin/env ruby
$:.unshift File.join(File.dirname(__FILE__), *%w[.. lib])

require "rubygems" # ruby1.9 doesn't "require" it though
require 'flynn'
require 'active_support/inflector'

recipe = ARGV.shift
app_name = ARGV.shift
if Flynn::Recipes.const_defined?(recipe.camelize)
  Flynn::Recipes.const_get(recipe.camelize).new.create(app_name, ARGV)
else
  $stderr.puts "Flynn doesn't know how to create: #{recipe}"
end